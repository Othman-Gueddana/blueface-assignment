<div>
  <h1
    i18n="Profile page title | A title for the Profile page @@profilePageTitle"
  >
    Profile
  </h1>
  <div>
    <p>​Username: {{ user.username }}​</p>
  </div>
  <div>
    <p>Email: {{ user.email }}​</p>
  </div>
  <form (ngSubmit)="saveProfile()">
    <div>
      <label>​First Name:​</label>
      <input
        type="text"
        name="firstName"
        [(ngModel)]="user.firstName"
        [disabled]="isLoading"
        (input)="clearError()"
        (change)="user.firstName = user.firstName.trim()"
      />
    </div>
    <div>
      <label>Last Name:​</label>
      <input
        type="text"
        name="lastName"
        [(ngModel)]="user.lastName"
        [disabled]="isLoading"
        (input)="clearError()"
        (change)="user.lastName = user.lastName.trim()"
      />
    </div>
    <button type="submit" [disabled]="isLoading">Save</button>
  </form>
  <p *ngIf="!user.username && isLoading">​Loading profile...​</p>
  <p *ngIf="user.username && isLoading">​Saving profile...​</p>
  <p *ngIf="error">​Error! {{ error }}</p>
</div>
